 x402 ProtokolÃ¼ â€” Web-Native Ã–deme StandartÄ±

## ğŸ¯ GiriÅŸ
**x402**, HTTP protokolÃ¼ndeki `402 Payment Required` durum kodunu aktif olarak kullanan, zincir-baÄŸÄ±msÄ±z (chain-agnostic) bir **aÃ§Ä±k Ã¶deme standardÄ±dÄ±r**.  
AmaÃ§: Ä°nternet Ã¼zerinde kaynaklara (API, veri, iÃ§erik, hizmet) **doÄŸrudan Ã¶deme yaparak eriÅŸim** saÄŸlamaktÄ±r.  
â†’ Abonelik, OAuth, kayÄ±t iÅŸlemleri olmadan â€œkullandÄ±ÄŸÄ±n kadar Ã¶deâ€ modelini mÃ¼mkÃ¼n kÄ±lar.

---

## ğŸ”— Resmi Kaynaklar
- ğŸŒ [x402.org â€” ResmÃ® site](https://www.x402.org)
- ğŸ’¡ [Coinbase Developer Docs: x402 Core Concepts](https://docs.cdp.coinbase.com/x402/core-concepts/http-402)
- ğŸ’» [GitHub â€” coinbase/x402 repository](https://github.com/coinbase/x402)
- ğŸ“š [QuickNode Guide: How to use x402 Payment Required](https://www.quicknode.com/guides/infrastructure/how-to-use-x402-payment-required)
- ğŸ§µ [Reddit â€” Teknik tartÄ±ÅŸma](https://www.reddit.com/r/CryptoTechnology/comments/1leki7h/x402_an_open_standard_for_internetnative_payments/)
- ğŸ“· GÃ¶rsel: Coinbase Developer Blog â€“ *x402 protocol flow diagram*

---

## âš™ï¸ Temel AkÄ±ÅŸ

1. **Ä°stemci (Client)** bir web kaynaÄŸÄ±na istek gÃ¶nderir.
2. **Sunucu (Resource Server)** bu kaynaÄŸÄ±n Ã¼cretli olduÄŸunu fark eder ve:
   ```http
   HTTP/1.1 402 Payment Required
   Content-Type: application/json

   {
     "amount": "1",
     "currency": "USDC",
     "chain": "base",
     "payTo": "0xReceiverAddress",
     "reason": "Mint 10,000 MEME tokens"
   }
Ä°stemci Ã¶deme yapar ve isteÄŸi X-PAYMENT baÅŸlÄ±ÄŸÄ±yla tekrar yollar.

Sunucu Ã¶demeyi doÄŸrular (ya kendi nodeâ€™una ya da bir facilitator APIâ€™ye sorarak).

OnaylanÄ±rsa kaynak eriÅŸimi veya zincir Ã¼stÃ¼ iÅŸlem (Ã¶rneÄŸin mint) gerÃ§ekleÅŸtirilir.

ğŸ’° Pay-to-Mint Senaryosu
Senaryon:

KullanÄ±cÄ± 1 USDC Ã¶der â†’ karÅŸÄ±lÄ±ÄŸÄ±nda 10 000 MEME token mintlenir.

AkÄ±ÅŸ ÅemasÄ±
pgsql
Kodu kopyala
Client â†’ POST /mint
         â†“
Server â†’ 402 Payment Required (x402 standardÄ±)
         â†“
Client â†’ X-PAYMENT header + Ã¶deme
         â†“
Server â†’ Mint iÅŸlemini tetikler
         â†“
User â†’ 10 000 MEME token alÄ±r âœ…
ğŸ§± Kontrat YapÄ±sÄ± (Solidity)
solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract MemeToken is ERC20, Ownable {
    uint256 public constant TOKENS_PER_USDC = 10_000 * 10**18;
    address public trustedMinter;

    constructor() ERC20("Meme Token", "MEME") {}

    function setTrustedMinter(address _minter) external onlyOwner {
        trustedMinter = _minter;
    }

    function mintForUser(address user, uint256 usdcAmount) external {
        require(msg.sender == trustedMinter, "Not authorized");
        uint256 amountToMint = usdcAmount * TOKENS_PER_USDC / 1e6; // USDC 6 decimals
        _mint(user, amountToMint);
    }
}
